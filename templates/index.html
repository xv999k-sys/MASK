

<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>

    <link rel="website icon" type="png"  href="static/11zon_cropped.png">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ù…Ù†ØµØ© Ø°ÙƒÙŠØ© Ù„Ø§ÙƒØªØ´Ø§Ù Ù…Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø´Ø®Øµ ÙŠØ±ØªØ¯ÙŠ ÙƒÙ…Ø§Ù…Ø© Ø£Ù… Ù„Ø§ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ (Ø³Ù†Ù†) ØŒ Ù…Ø¹ Ø¯Ù‚Ø© Ø¹Ø§Ù„ÙŠØ© ÙˆØªØ¬Ø±Ø¨Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø³Ù‡Ù„Ø© ÙˆØ³Ø±ÙŠØ¹Ø©.">
    <meta name="keywords" content="ÙƒÙ…Ø§Ù…Ø©, ÙƒØ´Ù Ø§Ù„ÙƒÙ…Ø§Ù…Ø©, Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ, Ø±Ø¤ÙŠØ© Ø­Ø§Ø³ÙˆØ¨ÙŠØ©">
    <meta name="Karam" content="K_MASK">
    <meta name="description" content="An intelligent platform that detects whether a person is wearing a face mask or not using AI technology (cnn), offering high accuracy and a seamless user experience.">
    <meta name="keywords" content="face mask detection, AI, computer vision, mask recognition">
    <meta name="Karam" content="K_MASK">
  <title>K_MASK</title>
 
</head>
<body>

   <h1>K_MASK</h1>
   
  <h2 id="b22">
  It is a program that determines whether
  a Person is wearing a mask or not using Computer
  vision (CNN). Upload your Image and the form
  will generalize.
  </h2>

  <div id="lang">
   <form>
   
   <input type="submit" id="bb3" value="EN" >
   </form> 
  </div>

  <div class="container">

    <h2>âœ¨ Place your photo here </h2>

    <label class="upload-box" for="imageInput">
     ğŸ“· Click here to choose an image 
    </label>
    <input type="file" id="imageInput" accept="image/*" hidden>

    <img id="imagePreview">

    <button onclick="resetImage()">Delete</button>
  </div>

  <h2 id="result" style="text-align:center;color:#0078ff;"></h2>
  <button id="chik"  onclick="checkMask()" style="position: absolute; top: 360px; right: 200px;  " >Check Mask</button>

 
  <div id="imgg">
  <img src="static/people.png" alt="none" id="fin" >
  </div>

  <hr id="hr1" >
  <h2 id="resultText"></h2>


 <script>
  let langBtn = document.getElementById("bb3");
let title = document.querySelector("h1");
let desc = document.getElementById("b22");
let placeTitle = document.querySelector(".container h2");
let deleteBtn = document.querySelector("button[onclick='resetImage()']");
let uploadLabel = document.querySelector(".upload-box");
let chik = document.getElementById("chik");

let isEnglish = true;

langBtn.addEventListener("click", function(e) {
    e.preventDefault();

    document.body.style.transition = ".4s";
    document.body.style.opacity = "0";

    setTimeout(() => {
        if (isEnglish) {
            document.body.style.direction = "rtl";
            title.textContent = "ÙƒÙÙ…ÙØ§Ù…ÙØ©_Ø§Ù„ÙƒØ´Ù";
            desc.innerHTML =
                "Ù‡Ùˆ Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙŠØ­Ø¯Ø¯ Ù…Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø´Ø®Øµ ÙŠØ±ØªØ¯ÙŠ ÙƒÙ…Ø§Ù…Ø© Ø£Ù… Ù„Ø§ " +
                "Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ø­Ø§Ø³ÙˆØ¨ÙŠØ© (CNN). Ù‚Ù… Ø¨Ø±ÙØ¹ ØµÙˆØ±ØªÙƒ " +
                "ÙˆØ³ÙŠØªÙ… Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„ÙŠÙ‡Ø§.";
            placeTitle.textContent = "âœ¨ Ø¶Ø¹ ØµÙˆØ±ØªÙƒ Ù‡Ù†Ø§";
            uploadLabel.textContent = "ğŸ“· Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø©";
            deleteBtn.textContent = "Ø­Ø°Ù";
            chik.textContent = "ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù‚Ù†Ø§Ø¹";
            langBtn.value = "AR";

            isEnglish = false;
        } else {
            document.body.style.direction = "ltr";
            title.textContent = "K_MASK";
            desc.innerHTML =
                "It is a program that determines whether " +
                "a Person is wearing a mask or not using Computer " +
                "vision (CNN). Upload your Image and the form " +
                "will generalize.";
            placeTitle.textContent = "Place your photo here âœ¨";
            uploadLabel.textContent = "ğŸ“· Click here to choose an image";
            deleteBtn.textContent = "Delete";
            chik.textContent = "Check Mask";
            langBtn.value = "EN";

            isEnglish = true;
        }
        document.body.style.opacity = "1";
    }, 300);
});

</script>



 <script>
let resultBox = document.getElementById("fin");
let resultText = document.getElementById("resultText");

document.getElementById("imageInput").addEventListener("change", async function(){

    const file = this.files[0];
    if(!file) return;

    // Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±Ø© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
    const reader = new FileReader();
    reader.onload = ()=> resultBox.src = reader.result;
    reader.readAsDataURL(file);

    let formData = new FormData();
    formData.append("image", file);

    let res = await fetch("/predict", {
        method: "POST",
        body: formData
    });

    let data = await res.json();
    console.log("Response From Server:", data);

    if(data.result === "with_mask"){
    resultText.innerHTML = "The person is wearing a mask âœ”";
    resultText.style.color = "green";
    resultText.style.position ="absolute";
    resultText.style.top = "290px";
    resultText.style.left = "100px";
    resultText.style.backgroundColor="white";
    resultText.style.borderWidth = "3px";
    resultText.style.borderStyle = "solid";
    resultText.style.borderColor = "white"; 
    resultText.style.borderRadius = "20px";
 }
    else if(data.result === "without_mask"){
    resultText.innerHTML = "The person is not wearing a mask âŒ";
    resultText.style.color = "red";
    resultText.style.position ="absolute";
    resultText.style.top = "290px";
    resultText.style.left = "100px";
    resultText.style.backgroundColor="white";
    resultText.style.borderWidth = "3px";
    resultText.style.borderStyle = "solid";
    resultText.style.borderColor = "white"; 
    resultText.style.borderRadius = "20px";

}

});

   
    </script>

</body>
</html>
